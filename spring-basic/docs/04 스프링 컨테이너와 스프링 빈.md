- iter → 자동으로 for문
    
    ```java
            for (String beanDefinitionName : beanDefinitionNames) {
                
            }
    ```
    
- `ctlr` + `E`: 이전 창으로 돌아가기

## 스프링 컨테이너 생성

스프링 컨테이너가 생성되는 과정을 알아보자

```java
//스프링 컨테이너 생성
ApplicationContext applicationContext =
			 new AnnotationConfigApplicationContext(AppConfig.class);
```

- `ApplicationContext`를 스프링 컨테이너라 한다.
- `ApplicationContext`는 인터페이스이다.
- 스프링 컨테이너는 XML 기반으로 만들 수 있고, 어노테이션 기반의 자바 설정 클래스로 만들 수 있다.
- `AppConfig`을 사용한 방식이 어노테이션 기반의 자바 설정 클래스로 스프링 컨테이너를 만든 것이다.
- 자바 설정 클래스를 기반으로 스프링 컨테이너(`ApplicationContext`)를 만들어보자.
    - `new AnnotationConfigApplicationContext(AppConfig.class)`
    - 이 클래스는 `ApplicationConetxt` 인터페이스의 구현체이다.

> 참고: 스프링 컨테이너는 `BeanFactory`, `ApplicationContext`로 구분한다.
`BeanFactory`를 직접 사용하는 경우는 거의 없으므로 일반적으로 `ApplicationContext`를 스프링 컨테이너라 한다.
> 

### 스프링 컨테이너의 생성 과정

#### 1. 스프링 컨테이너 생성

- `new AnnotationConfigApplicationContext(AppConfig.class)`
- 스프링 컨테이너를 생성할 때는 구성 정보를 지정해주어야 한다.
- 여기서는 `AppConfig.class`를 구성 정보로 지정했다.

#### 2. 스프링 빈 등록

![image](https://github.com/muyaaho/spring-basic/assets/76798969/7e45e66d-93a3-48e8-9534-0175322e95ed)

- 스프링 컨테이너는 파라미터로 넘어온 설정 클래스 정보를 사용해 스프링 빈을 등록한다.

#### 빈 이름

- 빈 이름은 메서드 이름을 사용한다.
- 직접 부여할 수도 있다. `@Bean(name="memberService2")`

#### 3. 스프링 빈 의존관계 설정 - 준비

![image](https://github.com/muyaaho/spring-basic/assets/76798969/a44c7b7b-7caa-4dbc-a5ca-ea6c05b303bc)

- 스프링 컨테니어는 설정 정보를 참고해서 의존관계를 주입(DI)한다.
- 단순히 자바 코드를 호출하는 것 같지만 차이가 있다. 뒤에 싱글톤 컨테이너에서 설명한다.

#### 참고

스프링은 빈은 생성하고, 의존관계를 주입하는 단계가 나누어져 있다. 그런데 자바 코드로 스프링 빈을 등록하면 생성자를 호출하면서 의존관계 주입도 한 번에 처리된다.

#### 정리

스프링 컨테이너를 생성하고, 설정 정보를 참고해서 스프링 빈도 등록하고, 의존 관계도 설정했다. 이제 스프링 컨테이너에서 데이터를 조회해보자.

## 컨테이너에 등록된 모든 빈 조회

스프링 컨테이너에 실제 스프링 빈들이 잘 등록 되었는지 확인해보자.

```java
    @Test
    @DisplayName("모든 빈 출력하기")
    void findAllBean() {
        String[] beanDefinitionNames = ac.getBeanDefinitionNames();
        for (String beanDefinitionName : beanDefinitionNames) {
            Object bean = ac.getBean(beanDefinitionName);
            System.out.println("name = " + beanDefinitionName + " object = " + bean);
        }
    }

    @Test
    @DisplayName("애플리케이션 빈 출력하기")
    void findApplicationBean() {
        String[] beanDefinitionNames = ac.getBeanDefinitionNames();
        for (String beanDefinitionName : beanDefinitionNames) {
            BeanDefinition beanDefinition = ac.getBeanDefinition(beanDefinitionName);

            if (beanDefinition.getRole() == BeanDefinition.ROLE_APPLICATION) {
                Object bean = ac.getBean(beanDefinitionName);
                System.out.println("name = " + beanDefinitionName + " object = " + bean);
            }

        }
    }
```

- 모든 빈 출력하기
    - 스프링에 등록된 모든 빈 정보를 출력할 수 있다.
    - `ac.getBeanDefinitionNames()`: 스프링에 등록된 모든 빈 이름을 조회한다.
    - `ac.getBean()`: 빈 이름으로 빈 객체(인스턴스)를 조회한다.
    - 결과
        
        ```
        name = org.springframework.context.annotation.internalConfigurationAnnotationProcessor object = org.springframework.context.annotation.ConfigurationClassPostProcessor@6f89f665
        name = org.springframework.context.annotation.internalAutowiredAnnotationProcessor object = org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor@df1cff6
        name = org.springframework.context.annotation.internalCommonAnnotationProcessor object = org.springframework.context.annotation.CommonAnnotationBeanPostProcessor@4925f4f5
        name = org.springframework.context.event.internalEventListenerProcessor object = org.springframework.context.event.EventListenerMethodProcessor@1ad926d3
        name = org.springframework.context.event.internalEventListenerFactory object = org.springframework.context.event.DefaultEventListenerFactory@3a43d133
        name = appConfig object = hello.core.AppConfig$$SpringCGLIB$$0@39ce27f2
        name = memberService object = hello.core.member.MemberServiceImpl@5f2afe62
        name = memberRepository object = hello.core.member.MemoryMemberRepository@c96a4ea
        name = orderService object = hello.core.order.OrderServiceImpl@28782602
        name = discountPolicy object = hello.core.discount.RateDiscountPolicy@60c16548
        
        ```
        
- 애플리케이션 빈 출력하기
    - 스프링 내부에서 사용하는 빈은 제외하고, 내가 등록한 빈만 출력해보자.
    - 스프링이 내부에서 사용하는 빈은 `getRole()`로 구분할 수 있다.
        - `ROLE_APPLICATION`: 일반적으로 사용자가 정의한 빈
        - `ROLE_INFRASTRUCTURE`: 스프링이 내부에서 사용하는 빈
    - ROLE_APPLICATION 출력
        
        ```
        name = appConfig object = hello.core.AppConfig$$SpringCGLIB$$0@13e9f2e2
        name = memberService object = hello.core.member.MemberServiceImpl@673bb956
        name = memberRepository object = hello.core.member.MemoryMemberRepository@cd7f1ae
        name = orderService object = hello.core.order.OrderServiceImpl@60e949e1
        name = discountPolicy object = hello.core.discount.RateDiscountPolicy@3c4bc9fc
        ```
        

## 스프링 빈 조회 - 기본

스프링 컨테이너에서 스프링 빈을 찾는 가장 기본적인 방법

- `ac.getBean(빈이름, 타입)`
- `ac.getBean(타입)`
- 조회 대상 스프링 빈이 없으면 예외 발생: `NoSuchBeanDefinitionException`

#### 예제 코드

```java
    @Test
    @DisplayName("구체 타입으로 조회")
    void findBeanByName2() {
        MemberService memberService = ac.getBean("memberService", MemberServiceImpl.class);
        Assertions.assertThat(memberService).isInstanceOf(MemberServiceImpl.class);
    }
```

> 참고: 구체 타입으로 조회하면 변경시 유연성이 떨어진다. 역할과 구현을 분리해야 한다. 역할에 의존해야 하는데 구현에 의존하게 된다.
가끔 의도대로 동작하지 않아 테스트할 때 사용하자.
> 

## 스프링 빈 조회 - 동일한 타입이 둘 이상

- 타입으로 조회 시 같은 타입의 스프링 빈이 둘 이상이면 오류가 발생한다. 이때는 빈 이름을 지정한다.
- `ac.getBeansOfType()`을 사용하면 해당 타입의 모든 빈을 조회할 수 있다.

## 스프링 빈 조회 - 상속 관계

- **부모 타입으로 조회하면, 자식 타입도 함께 조회한다.**
- 모든 자바 객체의 최고 부모인 `Object` 타입으로 조회하면, 모든 스프링 빈을 조회한다.

```java
    @Test
    @DisplayName("부모 타입으로 모두 조회하기 - Object")
    void findAllBeanByObject() {
        Map<String, Object> beansOfType = ac.getBeansOfType(Object.class);
        for (String key : beansOfType.keySet()) {
            System.out.println("key = " + key + " value = " + beansOfType.get(key));
        }
    }
```

```java
key = org.springframework.context.annotation.internalConfigurationAnnotationProcessor value = org.springframework.context.annotation.ConfigurationClassPostProcessor@c827db
key = org.springframework.context.annotation.internalAutowiredAnnotationProcessor value = org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor@377c68c6
key = org.springframework.context.annotation.internalCommonAnnotationProcessor value = org.springframework.context.annotation.CommonAnnotationBeanPostProcessor@538cd0f2
key = org.springframework.context.event.internalEventListenerProcessor value = org.springframework.context.event.EventListenerMethodProcessor@238ad8c
key = org.springframework.context.event.internalEventListenerFactory value = org.springframework.context.event.DefaultEventListenerFactory@430fa4ef
key = applicationContextExtendsFindTest.TestConfig value = hello.core.beanfind.ApplicationContextExtendsFindTest$TestConfig$$SpringCGLIB$$0@1761de10
key = rateDiscountPolicy value = hello.core.discount.RateDiscountPolicy@22df874e
key = fixDiscountPolicy value = hello.core.discount.FixDiscountPolicy@654c1a54
key = environment value = StandardEnvironment {activeProfiles=[], defaultProfiles=[default], propertySources=[PropertiesPropertySource@2024945312 {name='systemProperties', properties={java.specification.version=17, sun.cpu.isalist=amd64, sun.jnu.encoding=MS949, org.gradle.test.worker=20, java.class.path=C:\\Users\\User\\.gradle\\caches\\8.7\\workerMain\\gradle-worker.jar;C:\\Workspace\\classes\\spring-basic\\core\\build\\classes\\java\\test;C:\\Workspace\\classes\\spring-basic\\core\\build\\classes\\java\\main;C:\\Workspace\\classes\\spring-basic\\core\\build\\resources\\main;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-test\\3.2.4\\b0d6d874f2e67861fe17a72435f288b9cc29d6a7\\spring-boot-starter-test-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter\\3.2.4\\842cf7f0ed2ecfef3011f3191fc53c59ceed752\\spring-boot-starter-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-test-autoconfigure\\3.2.4\\4b566e3ed0d326b5b3158ec032c1fb570786fe4a\\spring-boot-test-autoconfigure-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\3.2.4\\b3f481aff8f0775f44d78399c804a8c52d75b971\\spring-boot-autoconfigure-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-test\\3.2.4\\7c58670bfa752b6d3b03298d4657d34e11eb46bb\\spring-boot-test-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot\\3.2.4\\ccb7cbb30dcf1d91dbbf20a3219a457eead46601\\spring-boot-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-logging\\3.2.4\\32616f4a33ec0fda0c54aaa67ab10dc78df3fd78\\spring-boot-starter-logging-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.annotation\\jakarta.annotation-api\\2.1.1\\48b9bda22b091b1f48b13af03fe36db3be6e1ae3\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-test\\6.1.5\\7713127b756a14bdaa363ab6fb52b5363139f779\\spring-test-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-context\\6.1.5\\735d1bd7372d7c53e7b31b4a9c980ce2e0b26424\\spring-context-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-aop\\6.1.5\\a4f596bd3c55b6cec93f0e2e7245dd0bab8afec3\\spring-aop-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-beans\\6.1.5\\9ae967f467281c9bb977585ef4d5ea7351704d60\\spring-beans-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-expression\\6.1.5\\7e21cb1c6bbef1509e12d485b75ffc61278d9fa7\\spring-expression-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-core\\6.1.5\\6dae1b06ffacbb9abab636be2dbc6acd3b6e5d68\\spring-core-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.yaml\\snakeyaml\\2.2\\3af797a25458550a16bf89acc8e4ab2b7f2bfce0\\snakeyaml-2.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.jayway.jsonpath\\json-path\\2.9.0\\37fe2217f577b0b68b18e62c4d17a8858ecf9b69\\json-path-2.9.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.xml.bind\\jakarta.xml.bind-api\\4.0.2\\6cd5a999b834b63238005b7144136379dc36cad2\\jakarta.xml.bind-api-4.0.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.minidev\\json-smart\\2.5.0\\57a64f421b472849c40e77d2e7cce3a141b41e99\\json-smart-2.5.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.assertj\\assertj-core\\3.24.2\\ebbf338e33f893139459ce5df023115971c2786f\\assertj-core-3.24.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.awaitility\\awaitility\\4.2.0\\2c39784846001a9cffd6c6b89c78de62c0d80fb8\\awaitility-4.2.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest\\2.2\\1820c0968dba3a11a1b30669bb1f01978a91dedc\\hamcrest-2.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.mockito\\mockito-junit-jupiter\\5.7.0\\ac2d6a3431747a7986b8f4abef465f72bf3a21ae\\mockito-junit-jupiter-5.7.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-params\\5.10.2\\359132c82a9d3fa87a325db6edd33b5fdc67a3d8\\junit-jupiter-params-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-engine\\5.10.2\\f1f8fe97bd58e85569205f071274d459c2c4f8cd\\junit-jupiter-engine-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-api\\5.10.2\\fb55d6e2bce173f35fd28422e7975539621055ef\\junit-jupiter-api-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.platform\\junit-platform-engine\\1.10.2\\d53bb4e0ce7f211a498705783440614bfaf0df2e\\junit-platform-engine-1.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.platform\\junit-platform-commons\\1.10.2\\3197154a1f0c88da46c47a9ca27611ac7ec5d797\\junit-platform-commons-1.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter\\5.10.2\\831c0b86ddc2ce38391c5b81ea662b0cfdc02cce\\junit-jupiter-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.mockito\\mockito-core\\5.7.0\\a1c258331ab91d66863c983aff7136357e9de056\\mockito-core-5.7.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.skyscreamer\\jsonassert\\1.5.1\\6d842d0faf4cf6725c509a5e5347d319ee0431c3\\jsonassert-1.5.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.xmlunit\\xmlunit-core\\2.9.1\\e5833662d9a1279a37da3ef6f62a1da29fcd68c4\\xmlunit-core-2.9.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-classic\\1.4.14\\d98bc162275134cdf1518774da4a2a17ef6fb94d\\logback-classic-1.4.14.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-to-slf4j\\2.21.1\\d77b2ba81711ed596cd797cc2b5b5bd7409d841c\\log4j-to-slf4j-2.21.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\jul-to-slf4j\\2.0.12\\eb5f48f782b41cc881b0bf1fb4d88ae2ff6d5b93\\jul-to-slf4j-2.0.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-jcl\\6.1.5\\896ae3519327731589c6e77521656b50ae32d5b3\\spring-jcl-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\slf4j-api\\2.0.12\\48f109a2a6d8f446c794f3e3fa0d86df0cdfa312\\slf4j-api-2.0.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.activation\\jakarta.activation-api\\2.1.3\\fa165bd70cda600368eee31555222776a46b881f\\jakarta.activation-api-2.1.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.minidev\\accessors-smart\\2.5.0\\aca011492dfe9c26f4e0659028a4fe0970829dd8\\accessors-smart-2.5.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.bytebuddy\\byte-buddy\\1.14.12\\6e37f743dc15a8d7a4feb3eb0025cbc612d5b9e1\\byte-buddy-1.14.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.bytebuddy\\byte-buddy-agent\\1.14.12\\be4984cb6fd1ef1d11f218a648889dfda44b8a15\\byte-buddy-agent-1.14.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.objenesis\\objenesis\\3.3\\1049c09f1de4331e8193e579448d0916d75b7631\\objenesis-3.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.vaadin.external.google\\android-json\\0.0.20131108.vaadin1\\fa26d351fe62a6a17f5cda1287c1c6110dec413f\\android-json-0.0.20131108.vaadin1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\io.micrometer\\micrometer-observation\\1.12.4\\492deebbd9b8ab23f588428f66578e21af266e01\\micrometer-observation-1.12.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-core\\1.4.14\\4d3c2248219ac0effeb380ed4c5280a80bf395e8\\logback-core-1.4.14.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-api\\2.21.1\\74c65e87b9ce1694a01524e192d7be989ba70486\\log4j-api-2.21.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.ow2.asm\\asm\\9.3\\8e6300ef51c1d801a7ed62d07cd221aca3a90640\\asm-9.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.opentest4j\\opentest4j\\1.3.0\\152ea56b3a72f655d4fd677fc0ef2596c3dd5e6e\\opentest4j-1.3.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\io.micrometer\\micrometer-commons\\1.12.4\\a57f10c78956b38087f97beae66cf14cb8b08d34\\micrometer-commons-1.12.4.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-engine-1.8.2.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-launcher-1.8.2.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-commons-1.8.2.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, user.variant=, java.vendor.url=https://java.oracle.com/, user.timezone=Asia/Seoul, java.vm.specification.version=17, os.name=Windows 11, user.country=KR, sun.java.launcher=SUN_STANDARD, sun.boot.library.path=C:\Program Files\Java\jdk-17\bin, sun.java.command=worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 20', jdk.debug=release, sun.cpu.endian=little, user.home=C:\Users\User, user.language=ko, java.specification.vendor=Oracle Corporation, org.gradle.native=false, java.version.date=2023-10-17, java.home=C:\Program Files\Java\jdk-17, file.separator=\, java.vm.compressedOopsMode=32-bit, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, user.script=, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, java.runtime.version=17.0.9+11-LTS-201, user.name=User, path.separator=;, os.version=10.0, java.runtime.name=Java(TM) SE Runtime Environment, file.encoding=UTF-8, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, java.vendor.url.bug=https://bugreport.java.com/bugreport/, java.io.tmpdir=C:\Users\User\AppData\Local\Temp\, java.version=17.0.9, user.dir=C:\Workspace\classes\spring-basic\core, os.arch=amd64, java.vm.specification.name=Java Virtual Machine Specification, org.gradle.internal.worker.tmpdir=C:\Workspace\classes\spring-basic\core\build\tmp\test\work, sun.os.patch.level=, native.encoding=MS949, java.library.path=C:\Program Files\Java\jdk-17\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files\Java\jdk-17\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\libnvvp;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Bandizip\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Users\User\miniconda3\Library\bin;C:\Program Files\NVIDIA Corporation\Nsight Compute 2021.3.1\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Git\cmd;C:\Program Files\Graphviz\bin\dot.exe;C:\Program Files\dotnet\;C:\Program Files\Java\jdk-17\bin;C:\Users\User\miniconda3;C:\Users\User\miniconda3\Library\mingw-w64\bin;C:\Users\User\miniconda3\Library\usr\bin;C:\Users\User\miniconda3\Library\bin;C:\Users\User\miniconda3\Scripts;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;;D:\Program Files\nand2tetris\nand2tetris\tools;C:\Users\User\AppData\Local\Programs\oh-my-posh\bin;C:\texlive\2022\bin\win32;C:\Program Files\Graphviz\bin;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;;;C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;;C:\Users\User\AppData\Local\Programs\Microsoft VS Code\bin;., java.vm.info=mixed mode, sharing, java.vendor=Oracle Corporation, java.vm.version=17.0.9+11-LTS-201, sun.io.unicode.encoding=UnicodeLittle, java.class.version=61.0}}, SystemEnvironmentPropertySource@1969856053 {name='systemEnvironment', properties={USERDOMAIN_ROAMINGPROFILE=JEE-COMPUTER, PROCESSOR_LEVEL=23, SESSIONNAME=Console, ALLUSERSPROFILE=C:\ProgramData, PROCESSOR_ARCHITECTURE=AMD64, PSModulePath=C:\Program Files\WindowsPowerShell\Modules;C:\WINDOWS\system32\WindowsPowerShell\v1.0\Modules, SystemDrive=C:, EFC_8248=1, USERNAME=User, ProgramFiles(x86)=C:\Program Files (x86), FPS_BROWSER_USER_PROFILE_STRING=Default, PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC, DriverData=C:\Windows\System32\Drivers\DriverData, IntelliJ IDEA Community Edition=C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;, NVCUDASAMPLES11_5_ROOT=C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.5, POSH_THEMES_PATH=C:\Users\User\AppData\Local\Programs\oh-my-posh\themes, PyCharm Community Edition=C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;, ProgramData=C:\ProgramData, ProgramW6432=C:\Program Files, HOMEPATH=\Users\User, PROCESSOR_IDENTIFIER=AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD, ProgramFiles=C:\Program Files, PUBLIC=C:\Users\Public, windir=C:\WINDOWS, =::=::\, POSH_INSTALLER=winget, LOCALAPPDATA=C:\Users\User\AppData\Local, IntelliJ IDEA=C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;, USERDOMAIN=JEE-COMPUTER, FPS_BROWSER_APP_PROFILE_STRING=Internet Explorer, LOGONSERVER=\\JEE-COMPUTER, JAVA_HOME=C:\Program Files\Java\jdk-17, OneDrive=C:\Users\User\OneDrive - 강원대학교, APPDATA=C:\Users\User\AppData\Roaming, VBOX_HWVIRTEX_IGNORE_SVM_IN_USE=1, CUDA_PATH_V11_5=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5, NVTOOLSEXT_PATH=C:\Program Files\NVIDIA Corporation\NvToolsExt\, CommonProgramFiles=C:\Program Files\Common Files, Path=C:\Program Files\Java\jdk-17\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\libnvvp;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Bandizip\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Users\User\miniconda3\Library\bin;C:\Program Files\NVIDIA Corporation\Nsight Compute 2021.3.1\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Git\cmd;C:\Program Files\Graphviz\bin\dot.exe;C:\Program Files\dotnet\;C:\Program Files\Java\jdk-17\bin;C:\Users\User\miniconda3;C:\Users\User\miniconda3\Library\mingw-w64\bin;C:\Users\User\miniconda3\Library\usr\bin;C:\Users\User\miniconda3\Library\bin;C:\Users\User\miniconda3\Scripts;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;;D:\Program Files\nand2tetris\nand2tetris\tools;C:\Users\User\AppData\Local\Programs\oh-my-posh\bin;C:\texlive\2022\bin\win32;C:\Program Files\Graphviz\bin;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;;;C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;;C:\Users\User\AppData\Local\Programs\Microsoft VS Code\bin, OS=Windows_NT, COMPUTERNAME=JEE-COMPUTER, NVCUDASAMPLES_ROOT=C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.5, CUDA_PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5, PROCESSOR_REVISION=7100, CommonProgramW6432=C:\Program Files\Common Files, ComSpec=C:\WINDOWS\system32\cmd.exe, SystemRoot=C:\WINDOWS, TEMP=C:\Users\User\AppData\Local\Temp, HOMEDRIVE=C:, USERPROFILE=C:\Users\User, TMP=C:\Users\User\AppData\Local\Temp, CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files, NUMBER_OF_PROCESSORS=16, IDEA_INITIAL_DIRECTORY=C:\WINDOWS\system32}}]}
key = systemProperties value = {java.specification.version=17, sun.cpu.isalist=amd64, sun.jnu.encoding=MS949, org.gradle.test.worker=20, java.class.path=C:\\Users\\User\\.gradle\\caches\\8.7\\workerMain\\gradle-worker.jar;C:\\Workspace\\classes\\spring-basic\\core\\build\\classes\\java\\test;C:\\Workspace\\classes\\spring-basic\\core\\build\\classes\\java\\main;C:\\Workspace\\classes\\spring-basic\\core\\build\\resources\\main;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-test\\3.2.4\\b0d6d874f2e67861fe17a72435f288b9cc29d6a7\\spring-boot-starter-test-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter\\3.2.4\\842cf7f0ed2ecfef3011f3191fc53c59ceed752\\spring-boot-starter-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-test-autoconfigure\\3.2.4\\4b566e3ed0d326b5b3158ec032c1fb570786fe4a\\spring-boot-test-autoconfigure-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\3.2.4\\b3f481aff8f0775f44d78399c804a8c52d75b971\\spring-boot-autoconfigure-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-test\\3.2.4\\7c58670bfa752b6d3b03298d4657d34e11eb46bb\\spring-boot-test-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot\\3.2.4\\ccb7cbb30dcf1d91dbbf20a3219a457eead46601\\spring-boot-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-logging\\3.2.4\\32616f4a33ec0fda0c54aaa67ab10dc78df3fd78\\spring-boot-starter-logging-3.2.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.annotation\\jakarta.annotation-api\\2.1.1\\48b9bda22b091b1f48b13af03fe36db3be6e1ae3\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-test\\6.1.5\\7713127b756a14bdaa363ab6fb52b5363139f779\\spring-test-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-context\\6.1.5\\735d1bd7372d7c53e7b31b4a9c980ce2e0b26424\\spring-context-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-aop\\6.1.5\\a4f596bd3c55b6cec93f0e2e7245dd0bab8afec3\\spring-aop-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-beans\\6.1.5\\9ae967f467281c9bb977585ef4d5ea7351704d60\\spring-beans-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-expression\\6.1.5\\7e21cb1c6bbef1509e12d485b75ffc61278d9fa7\\spring-expression-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-core\\6.1.5\\6dae1b06ffacbb9abab636be2dbc6acd3b6e5d68\\spring-core-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.yaml\\snakeyaml\\2.2\\3af797a25458550a16bf89acc8e4ab2b7f2bfce0\\snakeyaml-2.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.jayway.jsonpath\\json-path\\2.9.0\\37fe2217f577b0b68b18e62c4d17a8858ecf9b69\\json-path-2.9.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.xml.bind\\jakarta.xml.bind-api\\4.0.2\\6cd5a999b834b63238005b7144136379dc36cad2\\jakarta.xml.bind-api-4.0.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.minidev\\json-smart\\2.5.0\\57a64f421b472849c40e77d2e7cce3a141b41e99\\json-smart-2.5.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.assertj\\assertj-core\\3.24.2\\ebbf338e33f893139459ce5df023115971c2786f\\assertj-core-3.24.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.awaitility\\awaitility\\4.2.0\\2c39784846001a9cffd6c6b89c78de62c0d80fb8\\awaitility-4.2.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest\\2.2\\1820c0968dba3a11a1b30669bb1f01978a91dedc\\hamcrest-2.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.mockito\\mockito-junit-jupiter\\5.7.0\\ac2d6a3431747a7986b8f4abef465f72bf3a21ae\\mockito-junit-jupiter-5.7.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-params\\5.10.2\\359132c82a9d3fa87a325db6edd33b5fdc67a3d8\\junit-jupiter-params-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-engine\\5.10.2\\f1f8fe97bd58e85569205f071274d459c2c4f8cd\\junit-jupiter-engine-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter-api\\5.10.2\\fb55d6e2bce173f35fd28422e7975539621055ef\\junit-jupiter-api-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.platform\\junit-platform-engine\\1.10.2\\d53bb4e0ce7f211a498705783440614bfaf0df2e\\junit-platform-engine-1.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.platform\\junit-platform-commons\\1.10.2\\3197154a1f0c88da46c47a9ca27611ac7ec5d797\\junit-platform-commons-1.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.junit.jupiter\\junit-jupiter\\5.10.2\\831c0b86ddc2ce38391c5b81ea662b0cfdc02cce\\junit-jupiter-5.10.2.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.mockito\\mockito-core\\5.7.0\\a1c258331ab91d66863c983aff7136357e9de056\\mockito-core-5.7.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.skyscreamer\\jsonassert\\1.5.1\\6d842d0faf4cf6725c509a5e5347d319ee0431c3\\jsonassert-1.5.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.xmlunit\\xmlunit-core\\2.9.1\\e5833662d9a1279a37da3ef6f62a1da29fcd68c4\\xmlunit-core-2.9.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-classic\\1.4.14\\d98bc162275134cdf1518774da4a2a17ef6fb94d\\logback-classic-1.4.14.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-to-slf4j\\2.21.1\\d77b2ba81711ed596cd797cc2b5b5bd7409d841c\\log4j-to-slf4j-2.21.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\jul-to-slf4j\\2.0.12\\eb5f48f782b41cc881b0bf1fb4d88ae2ff6d5b93\\jul-to-slf4j-2.0.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-jcl\\6.1.5\\896ae3519327731589c6e77521656b50ae32d5b3\\spring-jcl-6.1.5.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\slf4j-api\\2.0.12\\48f109a2a6d8f446c794f3e3fa0d86df0cdfa312\\slf4j-api-2.0.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\jakarta.activation\\jakarta.activation-api\\2.1.3\\fa165bd70cda600368eee31555222776a46b881f\\jakarta.activation-api-2.1.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.minidev\\accessors-smart\\2.5.0\\aca011492dfe9c26f4e0659028a4fe0970829dd8\\accessors-smart-2.5.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.bytebuddy\\byte-buddy\\1.14.12\\6e37f743dc15a8d7a4feb3eb0025cbc612d5b9e1\\byte-buddy-1.14.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\net.bytebuddy\\byte-buddy-agent\\1.14.12\\be4984cb6fd1ef1d11f218a648889dfda44b8a15\\byte-buddy-agent-1.14.12.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.objenesis\\objenesis\\3.3\\1049c09f1de4331e8193e579448d0916d75b7631\\objenesis-3.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.vaadin.external.google\\android-json\\0.0.20131108.vaadin1\\fa26d351fe62a6a17f5cda1287c1c6110dec413f\\android-json-0.0.20131108.vaadin1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\io.micrometer\\micrometer-observation\\1.12.4\\492deebbd9b8ab23f588428f66578e21af266e01\\micrometer-observation-1.12.4.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-core\\1.4.14\\4d3c2248219ac0effeb380ed4c5280a80bf395e8\\logback-core-1.4.14.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-api\\2.21.1\\74c65e87b9ce1694a01524e192d7be989ba70486\\log4j-api-2.21.1.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.ow2.asm\\asm\\9.3\\8e6300ef51c1d801a7ed62d07cd221aca3a90640\\asm-9.3.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\org.opentest4j\\opentest4j\\1.3.0\\152ea56b3a72f655d4fd677fc0ef2596c3dd5e6e\\opentest4j-1.3.0.jar;C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\io.micrometer\\micrometer-commons\\1.12.4\\a57f10c78956b38087f97beae66cf14cb8b08d34\\micrometer-commons-1.12.4.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-engine-1.8.2.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-launcher-1.8.2.jar;C:\\Users\\User\\.gradle\\wrapper\\dists\\gradle-8.7-bin\\bhs2wmbdwecv87pi65oeuq5iu\\gradle-8.7\\lib\\plugins\\junit-platform-commons-1.8.2.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, user.variant=, java.vendor.url=https://java.oracle.com/, user.timezone=Asia/Seoul, java.vm.specification.version=17, os.name=Windows 11, user.country=KR, sun.java.launcher=SUN_STANDARD, sun.boot.library.path=C:\Program Files\Java\jdk-17\bin, sun.java.command=worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 20', jdk.debug=release, sun.cpu.endian=little, user.home=C:\Users\User, user.language=ko, java.specification.vendor=Oracle Corporation, org.gradle.native=false, java.version.date=2023-10-17, java.home=C:\Program Files\Java\jdk-17, file.separator=\, java.vm.compressedOopsMode=32-bit, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, user.script=, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, java.runtime.version=17.0.9+11-LTS-201, user.name=User, path.separator=;, os.version=10.0, java.runtime.name=Java(TM) SE Runtime Environment, file.encoding=UTF-8, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, java.vendor.url.bug=https://bugreport.java.com/bugreport/, java.io.tmpdir=C:\Users\User\AppData\Local\Temp\, java.version=17.0.9, user.dir=C:\Workspace\classes\spring-basic\core, os.arch=amd64, java.vm.specification.name=Java Virtual Machine Specification, org.gradle.internal.worker.tmpdir=C:\Workspace\classes\spring-basic\core\build\tmp\test\work, sun.os.patch.level=, native.encoding=MS949, java.library.path=C:\Program Files\Java\jdk-17\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files\Java\jdk-17\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\libnvvp;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Bandizip\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Users\User\miniconda3\Library\bin;C:\Program Files\NVIDIA Corporation\Nsight Compute 2021.3.1\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Git\cmd;C:\Program Files\Graphviz\bin\dot.exe;C:\Program Files\dotnet\;C:\Program Files\Java\jdk-17\bin;C:\Users\User\miniconda3;C:\Users\User\miniconda3\Library\mingw-w64\bin;C:\Users\User\miniconda3\Library\usr\bin;C:\Users\User\miniconda3\Library\bin;C:\Users\User\miniconda3\Scripts;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;;D:\Program Files\nand2tetris\nand2tetris\tools;C:\Users\User\AppData\Local\Programs\oh-my-posh\bin;C:\texlive\2022\bin\win32;C:\Program Files\Graphviz\bin;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;;;C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;;C:\Users\User\AppData\Local\Programs\Microsoft VS Code\bin;., java.vm.info=mixed mode, sharing, java.vendor=Oracle Corporation, java.vm.version=17.0.9+11-LTS-201, sun.io.unicode.encoding=UnicodeLittle, java.class.version=61.0}
key = systemEnvironment value = {USERDOMAIN_ROAMINGPROFILE=JEE-COMPUTER, PROCESSOR_LEVEL=23, SESSIONNAME=Console, ALLUSERSPROFILE=C:\ProgramData, PROCESSOR_ARCHITECTURE=AMD64, PSModulePath=C:\Program Files\WindowsPowerShell\Modules;C:\WINDOWS\system32\WindowsPowerShell\v1.0\Modules, SystemDrive=C:, EFC_8248=1, USERNAME=User, ProgramFiles(x86)=C:\Program Files (x86), FPS_BROWSER_USER_PROFILE_STRING=Default, PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC, DriverData=C:\Windows\System32\Drivers\DriverData, IntelliJ IDEA Community Edition=C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;, NVCUDASAMPLES11_5_ROOT=C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.5, POSH_THEMES_PATH=C:\Users\User\AppData\Local\Programs\oh-my-posh\themes, PyCharm Community Edition=C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;, ProgramData=C:\ProgramData, ProgramW6432=C:\Program Files, HOMEPATH=\Users\User, PROCESSOR_IDENTIFIER=AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD, ProgramFiles=C:\Program Files, PUBLIC=C:\Users\Public, windir=C:\WINDOWS, =::=::\, POSH_INSTALLER=winget, LOCALAPPDATA=C:\Users\User\AppData\Local, IntelliJ IDEA=C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;, USERDOMAIN=JEE-COMPUTER, FPS_BROWSER_APP_PROFILE_STRING=Internet Explorer, LOGONSERVER=\\JEE-COMPUTER, JAVA_HOME=C:\Program Files\Java\jdk-17, OneDrive=C:\Users\User\OneDrive - 강원대학교, APPDATA=C:\Users\User\AppData\Roaming, VBOX_HWVIRTEX_IGNORE_SVM_IN_USE=1, CUDA_PATH_V11_5=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5, NVTOOLSEXT_PATH=C:\Program Files\NVIDIA Corporation\NvToolsExt\, CommonProgramFiles=C:\Program Files\Common Files, Path=C:\Program Files\Java\jdk-17\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\bin;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5\libnvvp;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Bandizip\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Users\User\miniconda3\Library\bin;C:\Program Files\NVIDIA Corporation\Nsight Compute 2021.3.1\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Git\cmd;C:\Program Files\Graphviz\bin\dot.exe;C:\Program Files\dotnet\;C:\Program Files\Java\jdk-17\bin;C:\Users\User\miniconda3;C:\Users\User\miniconda3\Library\mingw-w64\bin;C:\Users\User\miniconda3\Library\usr\bin;C:\Users\User\miniconda3\Library\bin;C:\Users\User\miniconda3\Scripts;C:\Users\User\AppData\Local\Microsoft\WindowsApps;C:\Program Files\JetBrains\IntelliJ IDEA 2022.1.3\bin;;D:\Program Files\nand2tetris\nand2tetris\tools;C:\Users\User\AppData\Local\Programs\oh-my-posh\bin;C:\texlive\2022\bin\win32;C:\Program Files\Graphviz\bin;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2.3\bin;;;C:\Program Files\JetBrains\PyCharm Community Edition 2020.3.5\bin;;C:\Users\User\AppData\Local\Programs\Microsoft VS Code\bin, OS=Windows_NT, COMPUTERNAME=JEE-COMPUTER, NVCUDASAMPLES_ROOT=C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.5, CUDA_PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.5, PROCESSOR_REVISION=7100, CommonProgramW6432=C:\Program Files\Common Files, ComSpec=C:\WINDOWS\system32\cmd.exe, SystemRoot=C:\WINDOWS, TEMP=C:\Users\User\AppData\Local\Temp, HOMEDRIVE=C:, USERPROFILE=C:\Users\User, TMP=C:\Users\User\AppData\Local\Temp, CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files, NUMBER_OF_PROCESSORS=16, IDEA_INITIAL_DIRECTORY=C:\WINDOWS\system32}
key = applicationStartup value = org.springframework.core.metrics.DefaultApplicationStartup@107e5441
key = org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry value = []
key = messageSource value = Empty MessageSource
key = applicationEventMulticaster value = org.springframework.context.event.SimpleApplicationEventMulticaster@4aeaadc1
key = lifecycleProcessor value = org.springframework.context.support.DefaultLifecycleProcessor@263558c9

```


## BeanFactory와 ApplicationContext

<img src=https://github.com/muyaaho/spring-basic/assets/76798969/27bed25c-0645-43e7-9d2b-850910ef8676 width="30%" height="30%"/><br>

#### BeanFactory

- 스프링 컨테이너의 최상위 인터페이스이다.
- 스프링 빈을 관리하고 조회하는 역할을 담당한다.
- `getBean()`을 제공한다.
- 지금까지 우리가 사용했던 대부분의 기능은 BeanFactory가 제공하는 기능이다.

#### ApplicationContext

- BeanFactory 기능을 모두 상속받아서 제공한다.
- 빈을 관리하고 검색하는 기능을 BeanFactory가 제공해주는데, 그럼 둘의 차이는 뭘까?
- 애플리케이션을 개발할 때는 빈을 관리하고 조회하는 기능은 물론이고, 수 많은 부가기능이 필요하다.

#### ApplicationContext가 제공하는 부가 기능

![image](https://github.com/muyaaho/spring-basic/assets/76798969/30a5d077-f7b6-47e0-8350-aa91e37e37c6)

- 메시지 소스를 활용한 국제화 기능
    - 예를 들어 한국에서 들어오면 한국어로, 영어권에서 들어오면 영어로 출력한다.
- 환경 변수
    - 로컬, 개발, 운영 등을 구분해서 처리한다.
- 애플리케이션 이벤트
    - 이벤트를 발행하고 구독하는 모델을 편하게 지원한다.
- 편리한 리소스 조회
    - 파일, 클래스패스, 외부 등에서 리소스를 편리하게 조회한다.

#### 정리

- ApplicationContext는 BeanFactory의 기능을 상속받는다.
- ApplicationContext는 빈 관리기능 + 편리한 부가 기능을 제공한다.
- BeanFactory를 직접 사용할 일은 거의 없다. 부가기능이 포함된 ApplicationContext를 사용한다.
- BeanFactory나 ApplicationContext를 스프링 컨테이너라 한다.

## 다양한 설정 형식 지원 - 자바 코드, XML

- 스프링 컨테이너는 다양한 형식의 설정 정보를 받아들일 수 있게 유연하게 설계되어 있다.
    - 자바 코드, XML, Groovy 등
    
    ![image](https://github.com/muyaaho/spring-basic/assets/76798969/dfea2576-5b27-4adc-b3a9-1a0d8f591151)
    

### 어노테이션 기반 자바 코드 설정 사용

- 지금까지 했던 것이다
- `new AnnotationConfigApplicationContext(AppConfig.class)`
- `AnnotationConfigApplicationContext` 클래스를 사용하면서 자바 코드로 된 설정 정보를 넘기면 된다.

### XML 설정 사용

- 최근에는 스프링 부트를 많이 사용하면서 XML 기반의 설정은 잘 사용하지 않는다.
- 하지만 아직 많은 레거시 프로젝트들이 XML로 되어 있고, XML을 사용하면 컴파일없이 빈 설정 정보를 변경할 수 있는 장점도 있다.
- `GenericXmlApplicationContext`를 사용하면서 `xml` 설정 파일을 넘기면 된다.

#### XmlAppConfig 사용 자바 코드

```java
    @Test
    void xmlAppContext() {
        ApplicationContext ac = new GenericXmlApplicationContext("appConfig.xml");
        MemberService memberService = ac.getBean("memberService", MemberService.class);
        assertThat(memberService).isInstanceOf(MemberService.class);
    }
```

#### xml 기반의 스프링 빈 설정 정보

```xml
    ...
    <bean id="memberService" class="hello.core.member.MemberServiceImpl">
        <constructor-arg name="memberRepository" ref="memberRepository" />
    </bean>
    ...
```

- xml 기반의 `appConfig.xml` 스프링 설정 정보와 자바 코드로 된 `[AppConfig.java](http://AppConfig.java)` 설정 정보를 비교해보면 거의 비슷하다는 것을 알 수 있다.
- xml 기반 설정은 잘 사용하지 않으므로 필요하면 공식 레퍼런스 문서를 참고한다. https://spring.io/projects/spring-framework

## 스프링 빈 설정 메타 정보 - BeanDefinition

- 스프링은 어떻게 이런 다양한 설정 형식을 지원하는 것일까? 그 중심에는 `BeanDefinition`이라는 추상화가 있다.
- 쉽게 이야기해서 **역할과 구현을 개념적으로 나눈 것**이다.
    - XML을 읽어서 BeanDefinition을 만들면 된다.
    - 자바 코드를 읽어서 BeanDefinition을 만들면 된다.
    - 스프링 컨테이너는 자바 코드인지, XML인지 몰라도 된다. 오직 BeanDefinition만 알면 된다.
- `BeanDefinition`을 빈 설정 메타정보라 한다.
    - `@Bean`, `<bean>` 당 각각 하나씩 메타 정보가 생성된다.
- 스프링 컨테이너는 이 메타정보를 기반으로 스프링 빈을 생성한다.

![image](https://github.com/muyaaho/spring-basic/assets/76798969/3430838b-4d5d-4913-a4fd-5ba783c0e63c)

- 추상화에만 의존한다.

#### 코드 레벨로 조금 더 깊이 있게 들어가보자

![image](https://github.com/muyaaho/spring-basic/assets/76798969/a724c41b-0a0c-4fb6-a420-badd5e14d210)

- `AnnotationConfigApplicationContext`는 `AnnotatedBeanDefinitionReader`을 사용해 `AppConfig.class`를 읽고 `BeanDefinition`을 생성한다.
- `GenericXmlApplicationContext`는 `XmlBeanDefinitionReader`를 사용해서 `appConfig.xml` 설정 정보를 읽고 `BeanDefinition`을 생성한다.
- 새로운 형식의 설정 정보가 추가되면, XXXBeanDefinitionReader를 만들어서 `BeanDefinition`을 생성하면 된다.

### BeanDefinition 살펴보기

#### BeanDefinition 정보

- 이런 정보들이 있다~
- BeanClassName: 생성할 빈의 클래스 명(자바 설정 처럼 팩토리 역할의 빈을 사용하면 없음)
- factoryBeanName: 팩토리 역할의 빈을 사용할 경우 이름, 예) appConfig
- factoryMethodName: 빈을 생성할 팩토리 메서드 지정, 예) memberService
- Scope: 싱글톤(기본값)
- lazyInit: 스프링 컨테이너를 생성할 때 빈을 생성하는 것이 아니라, 실제 빈을 사용할 때 까지 최대한 생성을 지연 처리 하는지 여부
- InitMethodName: 빈을 생성하고, 의존관계를 적용한 뒤에 호출되는 초기화 메서드 명
- DestroyMethodName: 빈의 생명주기가 끝나서 제거하기 직전에 호출되는 메서드 명
- Constructor arguments, Properties: 의존관계 주입에서 사용한다. (자바 설정 처럼 팩토리 역할의 빈을 사용하면 없음)

#### 정리

- BeanDefinition을 직접 생성해서 스프링 컨테이너에 등록할 수도 있다. 하지만 실무에서 직접 정의하는 일은 거의 없다!
- BeanDefinition에 대해서는 너무 깊이있게 이해하기 보다는, 스프링이 다양한 형태의 설정 정보를 BeanDefinition으로 추상화해서 사용하는 것 정도만 이해하면 된다.
- 가끔 스프링 코드나 스프링 관련 오픈 소스의 코드를 볼 때, BeanDefinition이라는 것이 보일 때가 있다. 이 때 이러한 메커니즘을 떠올리면 된다.
